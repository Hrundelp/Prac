<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Задание 6</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f0f0f0;
            cursor: pointer;
        }
        th:hover {
            background-color: #e0e0e0;
        }
    </style>
</head>
<body>
    <h1>Customers Table</h1>

    <div class="controls">
        <button id="sortButton">Сортировать по расходам</button>
        <button id="resetButton">Сбросить</button>
    </div>

    <table id="customersTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Gender</th>
                <th>Married</th>
                <th>Age</th>
                <th>Expense</th>
                <th>Purchased</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>

    <script>
        let customers = [
            {
                'id': 1,
                'f_name': 'Abby',
                'l_name': 'Thomas',
                'gender': 'M',
                'married': true,
                'age': 32,
                'expense': 500,
                'purchased': ['Shampoo', 'Toys', 'Book']
            },
            {
                'id': 2,
                'f_name': 'Jerry',
                'l_name': 'Tom',
                'gender': 'M',
                'married': true,
                'age': 64,
                'expense': 100,
                'purchased': ['Stick', 'Blade']
            },
            {
                'id': 3,
                'f_name': 'Dianna',
                'l_name': 'Cherry',
                'gender': 'F',
                'married': true,
                'age': 22,
                'expense': 1500,
                'purchased': ['Lipstik', 'Nail Polish', 'Bag', 'Book']
            },
            {
                'id': 4,
                'f_name': 'Dev',
                'l_name': 'Currian',
                'gender': 'M',
                'married': true,
                'age': 82,
                'expense': 90,
                'purchased': ['Book']
            },
            {
                'id': 5,
                'f_name': 'Maria',
                'l_name': 'Gomes',
                'gender': 'F',
                'married': false,
                'age': 7,
                'expense': 300,
                'purchased': ['Toys']
            }
        ];
        const originalCustomers = [...customers];

        const tableBody = document.querySelector('#customersTable tbody');
        const sortButton = document.getElementById('sortButton');
        const resetButton = document.getElementById('resetButton');

        let sortAscending = true;

        function renderTable(data) {
            tableBody.innerHTML = '';

            data.forEach(function(customer) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${customer.id}</td>
                    <td>${customer.f_name}</td>
                    <td>${customer.l_name}</td>
                    <td>${customer.gender}</td>
                    <td>${customer.married ? 'Yes' : 'No'}</td>
                    <td>${customer.age}</td>
                    <td>${customer.expense}</td>
                    <td>${customer.purchased.join(', ')}</td>
                `;
                tableBody.appendChild(row);
            });
        }
        renderTable(customers);


        sortButton.addEventListener('click', () => {
            customers.sort((a, b) => {
                return sortAscending ? a.expense - b.expense : b.expense - a.expense;
            });

            sortAscending = !sortAscending;

            sortButton.textContent = 'Сортировать по расходам';

            renderTable(customers);
        });

        resetButton.addEventListener('click', function() {
            customers = [...originalCustomers]; 
            sortAscending = true; 
            sortButton.textContent = 'Сортировать по расходам';
            renderTable(customers);
        });
    </script>
</body>
</html>